<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¢‹é¼ å°‘å„¿ä¹‹å®¶ - å¥åº·æ¥é¤æ¸¸æˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f9f7ff 0%, #e3f2fd 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 182, 193, 0.3);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-img {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.3);
        }
        
        .logo-text h1 {
            color: #ff6b8b;
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .logo-text p {
            color: #666;
            font-size: 14px;
        }
        
        .contact-info {
            text-align: right;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 12px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .contact-info h3 {
            color: #4a90e2;
            margin-bottom: 5px;
            font-size: 18px;
        }
        
        .contact-info p {
            color: #666;
            font-size: 14px;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .game-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .info-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
            color: #ff6b8b;
            font-size: 22px;
        }
        
        .section-title i {
            background-color: #ffe6ea;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* æ¸¸æˆåŒºåŸŸæ ·å¼ */
        #game-area {
            width: 100%;
            height: 400px;
            background: linear-gradient(to bottom, #e3f2fd, #f9f7ff);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            border: 3px dashed #b3e5fc;
            margin-bottom: 20px;
        }
        
        #kangaroo {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 100px;
            background-color: #ff9a8b;
            border-radius: 40% 40% 0 0;
            transition: left 0.2s;
            z-index: 10;
        }
        
        .kangaroo-ear {
            position: absolute;
            top: -15px;
            width: 20px;
            height: 40px;
            background-color: #ff7b6b;
            border-radius: 50%;
        }
        
        .kangaroo-ear.left {
            left: 10px;
        }
        
        .kangaroo-ear.right {
            right: 10px;
        }
        
        .kangaroo-arm {
            position: absolute;
            top: 40px;
            width: 15px;
            height: 40px;
            background-color: #ff7b6b;
            border-radius: 10px;
        }
        
        .kangaroo-arm.left {
            left: 5px;
            transform: rotate(30deg);
        }
        
        .kangaroo-arm.right {
            right: 5px;
            transform: rotate(-30deg);
        }
        
        .kangaroo-pouch {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 30px;
            background-color: #ffccd5;
            border-radius: 50%;
            border: 2px solid #ff7b6b;
        }
        
        .food {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            top: -50px;
            z-index: 5;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .healthy {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
        }
        
        .unhealthy {
            background: linear-gradient(135deg, #F44336, #FF9800);
        }
        
        .game-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .score-board {
            display: flex;
            gap: 20px;
        }
        
        .score-box {
            background-color: #f5f9ff;
            padding: 12px 20px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        
        .score-box h3 {
            color: #4a90e2;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .score-box p {
            font-size: 28px;
            font-weight: bold;
            color: #ff6b8b;
        }
        
        .game-buttons {
            display: flex;
            gap: 15px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 16px;
        }
        
        #start-btn {
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            color: white;
        }
        
        #reset-btn {
            background: linear-gradient(to right, #2196F3, #21CBF3);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        /* ä¿¡æ¯åŒºåŸŸæ ·å¼ */
        .service-features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature {
            background-color: #f9f9ff;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #ffccd5;
            transition: transform 0.3s;
        }
        
        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }
        
        .feature i {
            font-size: 24px;
            color: #ff6b8b;
            margin-bottom: 15px;
        }
        
        .feature h3 {
            margin-bottom: 10px;
            color: #4a90e2;
        }
        
        .feature p {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .testimonial {
            background: linear-gradient(135deg, #ffe6ea, #f0f9ff);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            position: relative;
        }
        
        .testimonial:before {
            content: "\201C";
            font-size: 80px;
            color: #ffccd5;
            position: absolute;
            top: -20px;
            left: 20px;
            font-family: serif;
        }
        
        .testimonial p {
            font-style: italic;
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .testimonial-author {
            text-align: right;
            color: #ff6b8b;
            font-weight: bold;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: #666;
            background-color: white;
            border-radius: 15px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .game-instructions {
            background-color: #f0f9ff;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        }
        
        .game-instructions h4 {
            color: #4a90e2;
            margin-bottom: 10px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .contact-info {
                text-align: left;
                width: 100%;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .score-board {
                width: 100%;
                justify-content: space-between;
            }
            
            .game-buttons {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .score-box {
                min-width: 100px;
            }
            
            .section-title {
                font-size: 18px;
            }
            
            .logo-text h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-img">
                    <i class="fas fa-child"></i>
                </div>
                <div class="logo-text">
                    <h1>è¢‹é¼ å°‘å„¿ä¹‹å®¶</h1>
                    <p>Kangaroo Children's Home</p>
                    <p>ä¸“ä¸šå¯„é¤æœåŠ¡ Â· å¥åº·æˆé•¿ä¼™ä¼´</p>
                </div>
            </div>
            <div class="contact-info">
                <h3>ç«‹å³é¢„çº¦å¯„é¤æœåŠ¡</h3>
                <p><i class="fas fa-phone-alt"></i> è”ç³»ç”µè¯: daiyuxin</p>
                <p><i class="fas fa-map-marker-alt"></i> æœåŠ¡åœ°å€: daiyuxin</p>
                <p><i class="fas fa-map-marker-alt"></i> daiyuxin</p>
            </div>
        </header>
        
        <div class="main-content">
            <section class="game-section">
                <div class="section-title">
                    <i class="fas fa-gamepad"></i>
                    <h2>è¢‹é¼ æ¥é¤å¤§æŒ‘æˆ˜</h2>
                </div>
                
                <div class="game-controls">
                    <div class="score-board">
                        <div class="score-box">
                            <h3>å¥åº·é£Ÿç‰©</h3>
                            <p id="healthy-score">0</p>
                        </div>
                        <div class="score-box">
                            <h3>å‰©ä½™æ—¶é—´</h3>
                            <p id="time-left">60</p>
                        </div>
                        <div class="score-box">
                            <h3>æ€»å¾—åˆ†</h3>
                            <p id="total-score">0</p>
                        </div>
                    </div>
                    
                    <div class="game-buttons">
                        <button id="start-btn">
                            <i class="fas fa-play"></i> å¼€å§‹æ¸¸æˆ
                        </button>
                        <button id="reset-btn">
                            <i class="fas fa-redo"></i> é‡æ–°å¼€å§‹
                        </button>
                    </div>
                </div>
                
                <div id="game-area">
                    <div id="kangaroo">
                        <div class="kangaroo-ear left"></div>
                        <div class="kangaroo-ear right"></div>
                        <div class="kangaroo-arm left"></div>
                        <div class="kangaroo-arm right"></div>
                        <div class="kangaroo-pouch"></div>
                    </div>
                    <!-- é£Ÿç‰©å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="game-instructions">
                    <h4>æ¸¸æˆè¯´æ˜ï¼š</h4>
                    <p>ä½¿ç”¨é”®ç›˜å·¦å³æ–¹å‘é”®(â† â†’)æˆ–é¼ æ ‡ç§»åŠ¨è¢‹é¼ ï¼Œæ¥ä½å¥åº·é£Ÿç‰©ï¼ˆç»¿è‰²ï¼‰å¾—åˆ†ï¼Œé¿å…ä¸å¥åº·é£Ÿç‰©ï¼ˆçº¢è‰²ï¼‰ã€‚æ¸¸æˆæ—¶é—´60ç§’ï¼Œçœ‹çœ‹ä½ èƒ½å¾—å¤šå°‘åˆ†ï¼</p>
                </div>
            </section>
            
            <section class="info-section">
                <div class="section-title">
                    <i class="fas fa-home"></i>
                    <h2>è¢‹é¼ å°‘å„¿ä¹‹å®¶å¯„é¤æœåŠ¡</h2>
                </div>
                
                <div class="service-features">
                    <div class="feature">
                        <i class="fas fa-utensils"></i>
                        <h3>è¥å…»å‡è¡¡é¤é£Ÿ</h3>
                        <p>ç”±ä¸“ä¸šè¥å…»å¸ˆé…é¤ï¼Œç¡®ä¿å­©å­æ¯æ—¥è¥å…»å‡è¡¡ï¼Œä¿ƒè¿›å¥åº·æˆé•¿ã€‚</p>
                    </div>
                    
                    <div class="feature">
                        <i class="fas fa-shield-alt"></i>
                        <h3>å®‰å…¨å«ç”Ÿç¯å¢ƒ</h3>
                        <p>ä¸¥æ ¼æ¶ˆæ¯’æµç¨‹ï¼Œé£Ÿå“å®‰å…¨å¯è¿½æº¯ï¼Œä¸ºå­©å­æä¾›å®‰å…¨æ”¾å¿ƒçš„ç”¨é¤ç¯å¢ƒã€‚</p>
                    </div>
                    
                    <div class="feature">
                        <i class="fas fa-clock"></i>
                        <h3>çµæ´»æ—¶é—´å®‰æ’</h3>
                        <p>æä¾›æ—©é¤ã€åˆé¤ã€æ™šé¤åŠåŠ é¤æœåŠ¡ï¼Œæ—¶é—´çµæ´»ï¼Œæ»¡è¶³å®¶é•¿ä¸åŒéœ€æ±‚ã€‚</p>
                    </div>
                    
                    <div class="feature">
                        <i class="fas fa-heart"></i>
                        <h3>è´´å¿ƒç…§çœ‹æœåŠ¡</h3>
                        <p>ä¸“ä¸šä¿è‚²å‘˜å…¨ç¨‹ç…§çœ‹ï¼ŒåŸ¹å…»å­©å­è‰¯å¥½ç”¨é¤ä¹ æƒ¯å’Œç‹¬ç«‹èƒ½åŠ›ã€‚</p>
                    </div>
                </div>
                
                <div class="testimonial">
                    <p>"æŠŠå­©å­é€åˆ°è¢‹é¼ å°‘å„¿ä¹‹å®¶å¯„é¤æ˜¯æˆ‘æœ€æ”¾å¿ƒçš„é€‰æ‹©ã€‚ä»–ä»¬ä¸ä»…æä¾›è¥å…»ä¸°å¯Œçš„é¤é£Ÿï¼Œè¿˜åŸ¹å…»å­©å­è‰¯å¥½çš„ç”¨é¤ä¹ æƒ¯ã€‚å­©å­æ¯å¤©å›å®¶éƒ½å¼€å¿ƒåœ°åˆ†äº«åœ¨'è¢‹é¼ å®¶'çš„å¿«ä¹æ—¶å…‰ï¼"</p>
                    <div class="testimonial-author">â€”â€” ææ˜å®¶é•¿ï¼ŒæœåŠ¡2å¹´</div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Â© 2023 è¢‹é¼ å°‘å„¿ä¹‹å®¶ Kangaroo Children's Home ç‰ˆæƒæ‰€æœ‰</p>
            <p>ä¸“ä¸šå„¿ç«¥å¯„é¤æœåŠ¡ | è®©å­©å­åœ¨å…³çˆ±ä¸­å¥åº·æˆé•¿</p>
            <p style="margin-top: 10px; font-size: 14px; color: #888;">æ¸¸æˆä»…ä¾›å¨±ä¹ï¼Œå®é™…æœåŠ¡ä»¥ç°åœºå’¨è¯¢ä¸ºå‡†</p>
        </footer>
    </div>

    <script>
        // æ¸¸æˆå˜é‡
        let gameActive = false;
        let gameInterval;
        let foodInterval;
        let score = 0;
        let healthyCount = 0;
        let timeLeft = 60;
        const kangaroo = document.getElementById('kangaroo');
        const gameArea = document.getElementById('game-area');
        const healthyScoreElement = document.getElementById('healthy-score');
        const timeLeftElement = document.getElementById('time-left');
        const totalScoreElement = document.getElementById('total-score');
        const startButton = document.getElementById('start-btn');
        const resetButton = document.getElementById('reset-btn');
        
        // é£Ÿç‰©ç±»å‹å’Œå¯¹åº”çš„å›¾æ ‡
        const healthyFoods = [
            {icon: "ğŸ¥¦", name: "è¥¿å…°èŠ±"},
            {icon: "ğŸ", name: "è‹¹æœ"},
            {icon: "ğŸ¥•", name: "èƒ¡èåœ"},
            {icon: "ğŸŒ", name: "é¦™è•‰"},
            {icon: "ğŸ¥›", name: "ç‰›å¥¶"},
            {icon: "ğŸ¥š", name: "é¸¡è›‹"}
        ];
        
        const unhealthyFoods = [
            {icon: "ğŸ”", name: "æ±‰å ¡"},
            {icon: "ğŸŸ", name: "è–¯æ¡"},
            {icon: "ğŸ«", name: "å·§å…‹åŠ›"},
            {icon: "ğŸ¥¤", name: "æ±½æ°´"},
            {icon: "ğŸ¬", name: "ç³–æœ"},
            {icon: "ğŸ©", name: "ç”œç”œåœˆ"}
        ];
        
        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            score = 0;
            healthyCount = 0;
            timeLeft = 60;
            updateScoreboard();
            
            // æ¸…é™¤æ‰€æœ‰ç°æœ‰é£Ÿç‰©
            const foods = document.querySelectorAll('.food');
            foods.forEach(food => food.remove());
            
            // é‡ç½®è¢‹é¼ ä½ç½®
            kangaroo.style.left = "50%";
        }
        
        // æ›´æ–°åˆ†æ•°æ¿
        function updateScoreboard() {
            healthyScoreElement.textContent = healthyCount;
            timeLeftElement.textContent = timeLeft;
            totalScoreElement.textContent = score;
        }
        
        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            if (gameActive) return;
            
            gameActive = true;
            startButton.innerHTML = '<i class="fas fa-pause"></i> æš‚åœæ¸¸æˆ';
            
            // æ¸¸æˆå€’è®¡æ—¶
            gameInterval = setInterval(() => {
                timeLeft--;
                updateScoreboard();
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
            
            // ç”Ÿæˆé£Ÿç‰©
            foodInterval = setInterval(createFood, 800);
            
            // æ·»åŠ é”®ç›˜æ§åˆ¶
            document.addEventListener('keydown', moveKangarooWithKeyboard);
            
            // æ·»åŠ é¼ æ ‡æ§åˆ¶
            gameArea.addEventListener('mousemove', moveKangarooWithMouse);
        }
        
        // æš‚åœæ¸¸æˆ
        function pauseGame() {
            gameActive = false;
            clearInterval(gameInterval);
            clearInterval(foodInterval);
            startButton.innerHTML = '<i class="fas fa-play"></i> ç»§ç»­æ¸¸æˆ';
        }
        
        // ç»“æŸæ¸¸æˆ
        function endGame() {
            gameActive = false;
            clearInterval(gameInterval);
            clearInterval(foodInterval);
            startButton.innerHTML = '<i class="fas fa-play"></i> å¼€å§‹æ¸¸æˆ';
            
            // æ˜¾ç¤ºæ¸¸æˆç»“æŸæ¶ˆæ¯
            const message = document.createElement('div');
            message.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: rgba(255, 255, 255, 0.95);
                padding: 30px;
                border-radius: 15px;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                z-index: 100;
                width: 80%;
                max-width: 400px;
            `;
            
            message.innerHTML = `
                <h3 style="color: #ff6b8b; margin-bottom: 15px;">æ¸¸æˆç»“æŸï¼</h3>
                <p style="margin-bottom: 10px;">ä½ æ¥ä½äº† <strong style="color: #4CAF50;">${healthyCount}</strong> ä¸ªå¥åº·é£Ÿç‰©</p>
                <p style="margin-bottom: 10px;">æ€»å¾—åˆ†: <strong style="color: #ff6b8b;">${score}</strong></p>
                <p style="margin-bottom: 20px;">${getGameMessage(score)}</p>
                <button id="play-again-btn" style="padding: 10px 25px; background: #4CAF50; color: white; border: none; border-radius: 50px; cursor: pointer;">
                    å†ç©ä¸€æ¬¡
                </button>
            `;
            
            gameArea.appendChild(message);
            
            // æ·»åŠ å†ç©ä¸€æ¬¡æŒ‰é’®äº‹ä»¶
            document.getElementById('play-again-btn').addEventListener('click', () => {
                message.remove();
                initGame();
                startGame();
            });
        }
        
        // æ ¹æ®å¾—åˆ†è·å–æ¸¸æˆæ¶ˆæ¯
        function getGameMessage(score) {
            if (score >= 500) return "å¤ªæ£’äº†ï¼ä½ æ˜¯ä¸ªå¥åº·é¥®é£Ÿå°è¾¾äººï¼";
            if (score >= 300) return "åšå¾—å¾ˆå¥½ï¼ç»§ç»­ä¿æŒå¥åº·é¥®é£Ÿä¹ æƒ¯ï¼";
            if (score >= 100) return "è¿˜ä¸é”™ï¼è¦å†æ¥å†å‰å“¦ï¼";
            return "è¦å¤šåƒå¥åº·é£Ÿç‰©ï¼Œå°‘åƒåƒåœ¾é£Ÿå“å“¦ï¼";
        }
        
        // åˆ›å»ºé£Ÿç‰©
        function createFood() {
            if (!gameActive) return;
            
            const isHealthy = Math.random() > 0.3; // 70%å¥åº·é£Ÿç‰©ï¼Œ30%ä¸å¥åº·é£Ÿç‰©
            const foods = isHealthy ? healthyFoods : unhealthyFoods;
            const randomFood = foods[Math.floor(Math.random() * foods.length)];
            
            const food = document.createElement('div');
            food.className = `food ${isHealthy ? 'healthy' : 'unhealthy'}`;
            food.innerHTML = randomFood.icon;
            food.dataset.type = isHealthy ? 'healthy' : 'unhealthy';
            food.dataset.value = isHealthy ? 50 : -30;
            
            // éšæœºæ°´å¹³ä½ç½®
            const leftPosition = Math.random() * (gameArea.offsetWidth - 40);
            food.style.left = `${leftPosition}px`;
            
            // æ·»åŠ åˆ°æ¸¸æˆåŒºåŸŸ
            gameArea.appendChild(food);
            
            // é£Ÿç‰©ä¸‹è½åŠ¨ç”»
            const fallInterval = setInterval(() => {
                if (!gameActive) {
                    clearInterval(fallInterval);
                    return;
                }
                
                const top = parseInt(food.style.top || -50);
                food.style.top = `${top + 5}px`;
                
                // æ£€æµ‹æ˜¯å¦è¢«è¢‹é¼ æ¥ä½
                if (checkCollision(food, kangaroo)) {
                    clearInterval(fallInterval);
                    handleFoodCaught(food);
                }
                
                // å¦‚æœé£Ÿç‰©è½åˆ°åº•éƒ¨
                if (top > gameArea.offsetHeight) {
                    clearInterval(fallInterval);
                    food.remove();
                }
            }, 50);
        }
        
        // æ£€æµ‹ç¢°æ’
        function checkCollision(food, kangaroo) {
            const foodRect = food.getBoundingClientRect();
            const kangarooRect = kangaroo.getBoundingClientRect();
            const gameAreaRect = gameArea.getBoundingClientRect();
            
            // è°ƒæ•´åæ ‡ï¼Œä½¿å…¶ç›¸å¯¹äºæ¸¸æˆåŒºåŸŸ
            const foodLeft = foodRect.left - gameAreaRect.left;
            const foodTop = foodRect.top - gameAreaRect.top;
            const kangarooLeft = kangarooRect.left - gameAreaRect.left;
            const kangarooTop = kangarooRect.top - gameAreaRect.top;
            
            return (
                foodLeft < kangarooLeft + kangarooRect.width &&
                foodLeft + foodRect.width > kangarooLeft &&
                foodTop < kangarooTop + kangarooRect.height &&
                foodTop + foodRect.height > kangarooTop
            );
        }
        
        // å¤„ç†æ¥ä½é£Ÿç‰©
        function handleFoodCaught(food) {
            const foodType = food.dataset.type;
            const foodValue = parseInt(food.dataset.value);
            
            // æ·»åŠ å¾—åˆ†æ•ˆæœ
            const scoreEffect = document.createElement('div');
            scoreEffect.style.cssText = `
                position: absolute;
                top: ${food.style.top};
                left: ${food.style.left};
                color: ${foodType === 'healthy' ? '#4CAF50' : '#F44336'};
                font-weight: bold;
                font-size: 20px;
                z-index: 20;
                transition: all 0.5s;
            `;
            scoreEffect.textContent = foodType === 'healthy' ? `+${foodValue}` : `${foodValue}`;
            gameArea.appendChild(scoreEffect);
            
            // åŠ¨ç”»æ•ˆæœ
            setTimeout(() => {
                scoreEffect.style.top = `${parseInt(food.style.top) - 50}px`;
                scoreEffect.style.opacity = '0';
            }, 10);
            
            // ç§»é™¤å…ƒç´ 
            setTimeout(() => {
                scoreEffect.remove();
            }, 500);
            
            // æ›´æ–°åˆ†æ•°
            score += foodValue;
            if (foodType === 'healthy') healthyCount++;
            updateScoreboard();
            
            // ç§»é™¤é£Ÿç‰©å…ƒç´ 
            food.remove();
            
            // è¢‹é¼ åŠ¨ç”»
            kangaroo.style.transform = `translateX(-50%) scale(1.1)`;
            setTimeout(() => {
                kangaroo.style.transform = `translateX(-50%) scale(1)`;
            }, 200);
        }
        
        // é”®ç›˜æ§åˆ¶è¢‹é¼ ç§»åŠ¨
        function moveKangarooWithKeyboard(e) {
            if (!gameActive) return;
            
            const step = 25;
            const currentLeft = parseInt(kangaroo.style.left) || gameArea.offsetWidth / 2;
            const kangarooWidth = kangaroo.offsetWidth;
            
            if (e.key === 'ArrowLeft' || e.key === 'Left') {
                const newLeft = Math.max(0, currentLeft - step);
                kangaroo.style.left = `${newLeft}px`;
            } else if (e.key === 'ArrowRight' || e.key === 'Right') {
                const newLeft = Math.min(gameArea.offsetWidth - kangarooWidth, currentLeft + step);
                kangaroo.style.left = `${newLeft}px`;
            }
        }
        
        // é¼ æ ‡æ§åˆ¶è¢‹é¼ ç§»åŠ¨
        function moveKangarooWithMouse(e) {
            if (!gameActive) return;
            
            const gameAreaRect = gameArea.getBoundingClientRect();
            const mouseX = e.clientX - gameAreaRect.left;
            const kangarooWidth = kangaroo.offsetWidth;
            
            // ç¡®ä¿è¢‹é¼ ä¸è¶…å‡ºæ¸¸æˆåŒºåŸŸ
            let newLeft = mouseX - kangarooWidth / 2;
            newLeft = Math.max(0, newLeft);
            newLeft = Math.min(gameArea.offsetWidth - kangarooWidth, newLeft);
            
            kangaroo.style.left = `${newLeft}px`;
        }
        
        // æŒ‰é’®äº‹ä»¶ç›‘å¬
        startButton.addEventListener('click', () => {
            if (!gameActive) {
                if (timeLeft === 60) {
                    initGame();
                }
                startGame();
            } else {
                pauseGame();
            }
        });
        
        resetButton.addEventListener('click', () => {
            pauseGame();
            initGame();
            startButton.innerHTML = '<i class="fas fa-play"></i> å¼€å§‹æ¸¸æˆ';
        });
        
        // åˆå§‹åŒ–æ¸¸æˆ
        initGame();
        
        // æ·»åŠ ä¸€äº›åˆå§‹åŠ¨ç”»æ•ˆæœ
        document.querySelectorAll('.feature').forEach((feature, index) => {
            feature.style.animationDelay = `${index * 0.1}s`;
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        window.addEventListener('load', () => {
            setTimeout(() => {
                const welcomeMsg = document.createElement('div');
                welcomeMsg.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #ff6b8b, #ff9a9e);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    box-shadow: 0 5px 15px rgba(255, 107, 139, 0.3);
                    z-index: 1000;
                    animation: slideIn 0.5s ease-out;
                `;
                
                welcomeMsg.innerHTML = `
                    <h4>æ¬¢è¿æ¥åˆ°è¢‹é¼ å°‘å„¿ä¹‹å®¶ï¼</h4>
                    <p>å¼€å§‹æ¸¸æˆï¼Œäº†è§£å¥åº·é¥®é£Ÿå§ï¼</p>
                `;
                
                document.body.appendChild(welcomeMsg);
                
                // 3ç§’åç§»é™¤æ¬¢è¿ä¿¡æ¯
                setTimeout(() => {
                    welcomeMsg.style.animation = 'slideOut 0.5s ease-out forwards';
                    setTimeout(() => welcomeMsg.remove(), 500);
                }, 3000);
            }, 500);
        });
        
        // æ·»åŠ CSSåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .feature {
                animation: fadeInUp 0.6s ease-out both;
            }
            
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>